Концепции разработки
===

## Введение

Основные моменты:

* контроллеры раскладываем по отдельным модулям.
* используем функционал мультиязычности, в коде словарный запас хранить нельзя

Например, весь функционал юзера хранится по папкам:

* апи модуль
* веб-модуль
* виджет
* доменный слой

Идея в следующем: 

* собираем код в самостоятельные модули
* можем безболезненно отключить модуль через конфиг
* можем собрать модуль в composer-пакет, так как это самостоятельный функционал

## Виджеты

Следует отметить интересную особенность виджетов, 
они могут быть похожи на контроллеры, 
а могут использоваться традиционно, как представление для данных.
Если необходимо отображать какие-то данные на всех страницах с помощью виджета,
то можно реализовать его аналогично контроллеру,
и делать он может следуеющее:

* получение параметров
* обращения к сервисам
* рендеринг

При этом подходе, отличие от контроллера в следующем:

* базовый класс
* метод получения параметров
* используется как часть представления, а не как отдельная страница

Для более прозрачного понимания, можно представить, что вместо вставки виждета в представление, 
мы вставляем `iframe` и передаем в URL параметры запроса на контроллер. Результат и скелеты классов виждета и контроллера будут похожи.

## Конфигурация

Конфиги `*-local.php` генерируются при инициализации проекта.

В них мы заносим:

* что нужно только на локальном сервере для разработки
* что не должно улететь на боевой сервер
* конфиги на каждом сервере индивидуальны
* что не должно перезаписываться при деплое

> Note: Локальные конфиги игнорируются системой контроля версий.
